import{a as V,j,c as O,w as o,r as a,o as U,e as n,i as p,u as M,k as N,f as g}from"./entry.c102202d.js";import{P as C,I as m,S as R}from"./Session.36a6c4ac.js";var h={exports:{}};/*!
 * is-number <https://github.com/jonschlinkert/is-number>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var E=function(t){var r=typeof t;if(r==="string"||t instanceof String){if(!t.trim())return!1}else if(r!=="number"&&!(t instanceof Number))return!1;return t-t+1>=0},B=Object.prototype.toString,D=function(t){if(t===void 0)return"undefined";if(t===null)return"null";var r=typeof t;if(r==="boolean")return"boolean";if(r==="string")return"string";if(r==="number")return"number";if(r==="symbol")return"symbol";if(r==="function")return J(t)?"generatorfunction":"function";if(P(t))return"array";if(K(t))return"buffer";if(H(t))return"arguments";if(F(t))return"date";if($(t))return"error";if(G(t))return"regexp";switch(w(t)){case"Symbol":return"symbol";case"Promise":return"promise";case"WeakMap":return"weakmap";case"WeakSet":return"weakset";case"Map":return"map";case"Set":return"set";case"Int8Array":return"int8array";case"Uint8Array":return"uint8array";case"Uint8ClampedArray":return"uint8clampedarray";case"Int16Array":return"int16array";case"Uint16Array":return"uint16array";case"Int32Array":return"int32array";case"Uint32Array":return"uint32array";case"Float32Array":return"float32array";case"Float64Array":return"float64array"}if(T(t))return"generator";switch(r=B.call(t),r){case"[object Object]":return"object";case"[object Map Iterator]":return"mapiterator";case"[object Set Iterator]":return"setiterator";case"[object String Iterator]":return"stringiterator";case"[object Array Iterator]":return"arrayiterator"}return r.slice(8,-1).toLowerCase().replace(/\s/g,"")};function w(e){return typeof e.constructor=="function"?e.constructor.name:null}function P(e){return Array.isArray?Array.isArray(e):e instanceof Array}function $(e){return e instanceof Error||typeof e.message=="string"&&e.constructor&&typeof e.constructor.stackTraceLimit=="number"}function F(e){return e instanceof Date?!0:typeof e.toDateString=="function"&&typeof e.getDate=="function"&&typeof e.setDate=="function"}function G(e){return e instanceof RegExp?!0:typeof e.flags=="string"&&typeof e.ignoreCase=="boolean"&&typeof e.multiline=="boolean"&&typeof e.global=="boolean"}function J(e,t){return w(e)==="GeneratorFunction"}function T(e){return typeof e.throw=="function"&&typeof e.return=="function"&&typeof e.next=="function"}function H(e){try{if(typeof e.length=="number"&&typeof e.callee=="function")return!0}catch(t){if(t.message.indexOf("callee")!==-1)return!0}return!1}function K(e){return e.constructor&&typeof e.constructor.isBuffer=="function"?e.constructor.isBuffer(e):!1}var L=function(e){var t="Uint32Array"in e,r=e.crypto||e.msCrypto,u=r&&typeof r.getRandomValues=="function",s=t&&u;if(!s)return Math.random;var i=new Uint32Array(1),d=Math.pow(2,32);function c(){return r.getRandomValues(i),i[0]/d}return c.cryptographic=!0,c}(typeof self<"u"?self:window);/*!
 * randomatic <https://github.com/jonschlinkert/randomatic>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var W=E,b=D,v=L;h.exports=q;h.exports.isCrypto=!!v.cryptographic;var l={lower:"abcdefghijklmnopqrstuvwxyz",upper:"ABCDEFGHIJKLMNOPQRSTUVWXYZ",number:"0123456789",special:"~!@#$%^&()_+-={}[];',."};l.all=l.lower+l.upper+l.number+l.special;function q(e,t,r){if(typeof e>"u")throw new Error("randomatic expects a string or number.");var u=!1;arguments.length===1&&(typeof e=="string"?t=e.length:W(e)&&(r={},t=e,e="*")),b(t)==="object"&&t.hasOwnProperty("chars")&&(r=t,e=r.chars,t=e.length,u=!0);var s=r||{},i="",d="";if(e.indexOf("?")!==-1&&(i+=s.chars),e.indexOf("a")!==-1&&(i+=l.lower),e.indexOf("A")!==-1&&(i+=l.upper),e.indexOf("0")!==-1&&(i+=l.number),e.indexOf("!")!==-1&&(i+=l.special),e.indexOf("*")!==-1&&(i+=l.all),u&&(i+=e),s.exclude){var c=b(s.exclude)==="string"?s.exclude:s.exclude.join("");c=c.replace(new RegExp("[\\]]+","g"),""),i=i.replace(new RegExp("["+c+"]+","g"),""),s.exclude.indexOf("]")!==-1&&(i=i.replace(new RegExp("[\\]]+","g"),""))}for(;t--;)d+=i.charAt(parseInt(v()*i.length,10));return d}const z=g("h1",null,"Initiative Tracker",-1),Q=g("p",null,"Creating session.",-1),X=g("p",null,"Please wait.",-1),Y={components:{PlayerInfo:C},data(){return{dialog:{info:!1,host:!1,sessionCode:!1},sessionCode:{code:""}}},computed:{session:{get(){return m.session},set(e){m.session=e}},info:{get(){return m.info},set(e){m.info=e}}},methods:{async host(){if(this.info.name===null||this.info.name==="")this.dialog.info=!0,this.info.host=!0;else{this.dialog.info=!1,this.dialog.host=!0;const e=this.generateSessionId();this.session=new R(e),await this.session.host(),this.$router.push({name:"initiative-session-id",params:{id:e}}),this.dialog.host=!1}},async join(){this.sessionCode.code===null||this.sessionCode.code===""?this.dialog.sessionCode=!0:(this.dialog.sessionCode=!1,this.$router.push({name:"initiative-session-id",params:{id:this.sessionCode.code}}))},saveInfo(e){this.dialog.info=!1,this.info=e,this.host()},cancelInfo(){this.dialog.info=!1},generateSessionId(){return h.exports("A",6,{exclude:"ILOVW"})}}},te=V({...Y,__name:"index",setup(e){return j({title:"Initiative Tracker"}),(t,r)=>{const u=a("v-btn"),s=a("v-card-actions"),i=a("v-card"),d=a("v-col"),c=a("v-row"),x=a("v-progress-circular"),y=a("v-card-text"),_=a("v-dialog"),k=a("v-card-title"),A=a("v-text-field"),I=a("v-spacer"),S=a("v-container");return U(),O(S,null,{default:o(()=>[z,n(c,null,{default:o(()=>[n(d,null,{default:o(()=>[n(i,{title:"Host Session",subtitle:"Manage the Initiative Session as the DM/GM"},{default:o(()=>[n(s,null,{default:o(()=>[n(u,{onClick:t.host},{default:o(()=>[p("Host")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1}),n(d,null,{default:o(()=>[n(i,{title:"Join Session",subtitle:"Join an Initiative Session as a Player"},{default:o(()=>[n(s,null,{default:o(()=>[n(u,{onClick:t.join},{default:o(()=>[p("Join")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1}),n(M(C),{modelValue:t.dialog.info,"onUpdate:modelValue":r[0]||(r[0]=f=>t.dialog.info=f),onSave:t.saveInfo,cancel:"",onCancel:t.cancelInfo},null,8,["modelValue","onSave","onCancel"]),n(_,{modelValue:t.dialog.host,"onUpdate:modelValue":r[2]||(r[2]=f=>t.dialog.host=f),persistent:"","close-on-back":!1,"max-height":"80%","max-width":"80%",width:"200px"},{default:o(()=>[n(i,null,{default:o(()=>[n(y,{class:"text-center"},{default:o(()=>[n(x,{indeterminate:"",class:"mb-4"}),Q,X]),_:1}),n(s,null,{default:o(()=>[n(u,{color:"red",block:"",onClick:r[1]||(r[1]=f=>t.dialog.host=!1)},{default:o(()=>[p("Cancel")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"]),n(_,{modelValue:t.dialog.sessionCode,"onUpdate:modelValue":r[5]||(r[5]=f=>t.dialog.sessionCode=f),persistent:"","close-on-back":!1,"max-height":"80%","max-width":"80%",width:"300px"},{default:o(()=>[n(i,null,{default:o(()=>[n(y,{class:"text-center"},{default:o(()=>[n(k,null,{default:o(()=>[p("Session code")]),_:1}),n(y,{class:"text-center"},{default:o(()=>[n(A,{modelValue:t.sessionCode.code,"onUpdate:modelValue":r[3]||(r[3]=f=>t.sessionCode.code=f),label:"Code*",autofocus:"",required:"",onKeyup:N(t.join,["enter"])},null,8,["modelValue","onKeyup"])]),_:1})]),_:1}),n(s,null,{default:o(()=>[n(u,{color:"red",onClick:r[4]||(r[4]=f=>t.dialog.sessionCode=!1)},{default:o(()=>[p("Cancel")]),_:1}),n(I),n(u,{color:"primary",onClick:t.join},{default:o(()=>[p("Join")]),_:1},8,["onClick"])]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1})}}});export{te as default};
